model TwitterUser {
  id                Int                    @id @default(autoincrement())
  name              String
  Image             String
  createdAt         DateTime               @default(now())
  updatedAt         DateTime               @updatedAt
  fromFollowing     TwitterFollow[]        @relation("FromFollowing")
  toFollowing       TwitterFollow[]        @relation("ToFollowing")
  posts             TwitterPost[]
  fromDirectMessage TwitterDirectMessage[] @relation("FromDirectMessage")
  toDirectMessage   TwitterDirectMessage[] @relation("ToDirectMessage")
  comments          TwitterComment[]
}

model TwitterFollow {
  id         Int         @id @default(autoincrement())
  from       TwitterUser @relation("FromFollowing", fields: [fromUserId], references: [id])
  fromUserId Int
  to         TwitterUser @relation("ToFollowing", fields: [toUserId], references: [id])
  toUserId   Int
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
}

model TwitterPost {
  id             Int                    @id @default(autoincrement())
  caption        String
  user           TwitterUser            @relation(fields: [userId], references: [id])
  userId         Int
  createdAt      DateTime               @default(now())
  updatedAt      DateTime               @updatedAt
  comments       TwitterComment[]
  postOnHashtags TwitterPostOnHashtag[]
}

model TwitterDirectMessage {
  id         Int         @id @default(autoincrement())
  from       TwitterUser @relation("FromDirectMessage", fields: [fromUserId], references: [id])
  fromUserId Int
  to         TwitterUser @relation("ToDirectMessage", fields: [toUserId], references: [id])
  toUserId   Int
  text       String
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
}

model TwitterHashtag {
  id            Int                    @id @default(autoincrement())
  hashtag       String
  createdAt     DateTime               @default(now())
  updatedAt     DateTime               @updatedAt
  postOnHashtag TwitterPostOnHashtag[]
}

model TwitterComment {
  id        Int         @id @default(autoincrement())
  text      String
  user      TwitterUser @relation(fields: [userId], references: [id])
  userId    Int
  post      TwitterPost @relation(fields: [postId], references: [id])
  postId    Int
  createdAt DateTime    @default(now())
  updatedAt DateTime    @updatedAt
}

model TwitterPostOnHashtag {
  id        Int            @id @default(autoincrement())
  post      TwitterPost    @relation(fields: [postId], references: [id])
  postId    Int
  hashtag   TwitterHashtag @relation(fields: [hashtagId], references: [id])
  hashtagId Int
}
