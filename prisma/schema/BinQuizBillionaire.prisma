model QuizCategory {
  id        Int            @id @default(autoincrement())
  name      String         @unique
  createdAt DateTime       @default(now())
  updatedAt DateTime       @updatedAt
  questions QuizQuestion[]
  rounds    QuizRound[]
}

model QuizQuestion {
  id             Int                 @id @default(autoincrement())
  questName      String
  category       QuizCategory        @relation(fields: [categoryId], references: [id])
  categoryId     Int
  answer         QuizChoice          @relation("answer", fields: [answerChoiceId], references: [id])
  answerChoiceId Int                 @unique
  createdAt      DateTime            @default(now())
  updatedAt      DateTime            @updatedAt
  choices        QuizChoice[]
  roundQuestions QuizRoundQuestion[]
}

model QuizChoice {
  id             Int           @id @default(autoincrement())
  choiceName     String
  questione      QuizQuestion? @relation(fields: [questionId], references: [id])
  questionId     Int?
  questionAnswer QuizQuestion? @relation("answer")
  createdAt      DateTime      @default(now())
  updatedAt      DateTime      @updatedAt
}

model QuizRoundQuestion {
  id           Int          @id @default(autoincrement())
  userChoiceId Int
  question     QuizQuestion @relation(fields: [questionId], references: [id])
  questionId   Int
  round        QuizRound    @relation(fields: [roundId], references: [id])
  roundId      Int
  createdAt    DateTime     @default(now())
  updatedAt    DateTime     @updatedAt
}

model QuizRound {
  id         Int                 @id @default(autoincrement())
  user       String
  category   QuizCategory        @relation(fields: [categoryId], references: [id])
  categoryId Int
  score      Int?
  createdAt  DateTime            @default(now())
  updatedAt  DateTime            @updatedAt
  questions  QuizRoundQuestion[]
}
