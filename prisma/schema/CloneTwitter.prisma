model TwitterUser {
  id                Int                    @id @default(autoincrement())
  username          String                 @unique
  image             String?
  posts             TwitterPost[]
  followings        TwitterUser[]          @relation("following")
  followers         TwitterUser[]          @relation("following")
  directMessageFrom TwitterDirectMessage[] @relation("DmFrom")
  directMessageTo   TwitterDirectMessage[] @relation("DmTo")
  createdAt         DateTime               @default(now())
  updatedAt         DateTime               @updatedAt
}

model TwitterPost {
  id        Int              @id @default(autoincrement())
  user      TwitterUser      @relation(fields: [userId], references: [id])
  userId    Int
  message   String
  image     String?
  hashtags  TwitterHashtag[]
  replyBy   TwitterPost[]    @relation("TwitterReply")
  replyTo   TwitterPost[]    @relation("TwitterReply")
  createdAt DateTime         @default(now())
  updatedAt DateTime         @updatedAt
}

model TwitterHashtag {
  id           Int           @id @default(autoincrement())
  name         String        @unique
  createdAt    DateTime      @default(now())
  updatedAt    DateTime      @updatedAt
  twitterPosts TwitterPost[]
}

model TwitterDirectMessage {
  id         Int         @id @default(autoincrement())
  from       TwitterUser @relation("DmFrom", fields: [fromUserId], references: [id])
  to         TwitterUser @relation("DmTo", fields: [toUserId], references: [id])
  fromUserId Int
  toUserId   Int
  message    String
  image      String?
  createdAt  DateTime    @default(now())
  updatedAt  DateTime    @updatedAt
}
