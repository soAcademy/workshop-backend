model User {
  id                Int         @id @default(autoincrement())
  name              String
  profileImage      String
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt
  fromFolowing      Following[] @relation("FromFollowing")
  toFollowing       Following[] @relation("ToFollowing")
  post              Post[]
  fromDirectMessage DirectMsg[] @relation("FromDirectMessage")
  toDirectMessage   DirectMsg[] @relation("ToDirectMessage")
  Reply             Reply[]
}

model Following {
  id         Int      @id @default(autoincrement())
  from       User     @relation("FromFollowing", fields: [fromUserId], references: [id])
  fromUserId Int
  to         User     @relation("ToFollowing", fields: [toUserId], references: [id])
  toUserId   Int
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Post {
  id            Int             @id @default(autoincrement())
  user          User            @relation(fields: [userId], references: [id])
  userId        Int
  postDetail    String
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
  reply         Reply[]
  postOnHashtag PostOnHashtag[]
}

model DirectMsg {
  id         Int      @id @default(autoincrement())
  from       User     @relation("FromDirectMessage", fields: [fromUserId], references: [id])
  fromUserId Int
  to         User     @relation("ToDirectMessage", fields: [toUserId], references: [id])
  toUserId   Int
  msgDetail  String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Hashtag {
  id            Int             @id @default(autoincrement())
  hashtag       String
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
  postOnHashtag PostOnHashtag[]
}

model Reply {
  id        Int      @id @default(autoincrement())
  post      Post     @relation(fields: [postId], references: [id])
  postId    Int
  reply     String
  replyUser User     @relation(fields: [userId], references: [id])
  userId    Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model PostOnHashtag {
  id        Int      @id @default(autoincrement())
  post      Post     @relation(fields: [postId], references: [id])
  hashtag   Hashtag  @relation(fields: [hashtagId], references: [id])
  postId    Int
  hashtagId Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
